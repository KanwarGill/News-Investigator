{% extends "base.html" %}
{% block content %}
<!--
<div class="container">
    <h1>News Investigator</h1><br/>

    <table data-toggle="table" data-url="/static/js/data1.json" data-height="399" data-show-refresh="true" data-show-toggle="true" data-show-columns="true" data-search="true" data-select-item-name="toolbar1">
      <thead>
      <tr>
          <th data-field="title" data-align="center">Title</th>
          <th data-field="link" data-align="center">Link</th>
          <th data-field="hyperlink" data-align="center">Hyperlink</th>
          <th data-field="quote" data-align="center">Quotes</th>
          <th data-field="mention" data-align="center">Mentions</th>
      </tr>
      </thead>
  </table>
  <div></div><br>
  <a href="/index" class="btn btn-primary custombtn" href="#" id="btnReturnIndex">
      Back to main page
  </a>
</div>
-->
<div class="twitter-table-container">
    <div class="btn-group">
      <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
        Export Table Data <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" role="menu">
        <li><a id="btnExportTableXML" href="#">As XML</a></li>
      </ul>
    </div>
    <div class="btn btn-primary custombtn" href="#" id="btnTweetsGraph">
          View Tweets Graph
    </div>
    <a href="/index">
      <div class="btn btn-primary custombtn" id="btnReturnIndex">
          Back to main page
      </div>
    </a>
    <table id="twitter-table"></table>
</div>
<script>
    // Generate the results table using Bootstrap Table
    $(function () {
        $('#twitter-table').bootstrapTable({
            method: 'get',
            url: '/get_tweets',
            cache: false,
            height: 1000,
            striped: true,
            pagination: true,
            pageSize: 50,
            pageList: [10, 25, 50, 100, 200],
            search: true,
            showColumns: true,
            showRefresh: true,
            minimumCountColumns: 2,
            clickToSelect: true,
            columns: [{
                field: 'keyword',
                title: 'Keyword',
                align: 'middle',
                valign: 'left',
                sortable: true
            }, {
                field: 'tweets',
                title: 'No. of tweets',
                align: 'middle',
                valign: 'left',
                sortable: true
            }, {
				field: 'tweets text',
				title: 'Tweets',
				align: 'middle',
				valign: 'left',
				sortable: true,
				scrollable: true
			}]
        });
        $("#btnExportTableXML").click(function () {
            $('#twitter-table').tableExport({type:'xml',escape:'false'});
        });
    });
</script>
{% endblock %}